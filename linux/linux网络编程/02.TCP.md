三次握手：
    主动发起请求端：发送SYN标志位，请求建立连接。携带序号，数据字节数（0），滑动窗口大小。
    被动接受连接端：发送ACK标志位，同时携带SYN，携带序号，确认序号，数据字节数（0），滑动窗口大小。
    主动发起请求端：发送ACK标志位，应答服务器连接请求，携带确认号

四次挥手：
    主动关闭连接端：发送FIN标志位
    被动关闭连接段：应答ACK
          至此，半关闭完成
    被动关闭连接段：发送FIN
    主动关闭连接端：应答ACK

滑动窗口：
    发送给连接端，本端的缓冲区实时大小，保证数据不会丢失




**TCP三次握手（Three-Way Handshake）：**

1. **第一步**：客户端发送一个带有SYN（同步）标志位的数据包给服务器，请求建立连接。此时，客户端处于 SYN_SENT 状态。

2. **第二步**：服务器收到客户端的请求后，回复一个带有SYN和ACK（确认）标志位的数据包，表示接受连接请求，并通知客户端可以发送数据。此时，服务器处于 SYN_RECEIVED 状态。

3. **第三步**：客户端收到服务器的回复后，发送一个带有ACK标志位的数据包，表示确认连接建立。此时，客户端进入 ESTABLISHED 状态，服务器也进入 ESTABLISHED 状态。

现在，TCP连接已经建立，双方可以开始进行数据传输。

**TCP四次挥手（Four-Way Handshake）：**

1. **第一步**：客户端发送一个带有FIN（结束）标志位的数据包给服务器，表示客户端已经完成数据发送，希望关闭连接。此时，客户端进入 FIN_WAIT_1 状态。

2. **第二步**：服务器收到客户端的FIN后，发送一个带有ACK标志位的数据包，表示已经收到客户端的关闭请求。此时，服务器进入 CLOSE_WAIT 状态。

3. **第三步**：服务器发送一个带有FIN标志位的数据包给客户端，表示服务器也完成了数据发送，准备关闭连接。此时，服务器进入 LAST_ACK 状态。

4. **第四步**：客户端收到服务器的FIN后，发送一个带有ACK标志位的数据包，表示确认服务器的关闭请求。此时，客户端进入 TIME_WAIT 状态，等待一段时间（通常是两个最大段生存时间，MSL）后，才真正关闭连接。服务器收到客户端的确认后，立即关闭连接，进入 CLOSED 状态。

===
如果是两次握手，发送端可以确定自己发送的信息能对方能收到，也能确定对方发的自己能收到，但接收端只能确定对方发的包自己能收到，无法确定自己发的包对方能收到
并且两次握手的话，客户端有可能因为网络阻塞等原因会发送多个请求报文，延时到达的请求又会与服务器建立连接，浪费掉许多服务器的资源。